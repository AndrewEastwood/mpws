{assign var="DISPLAY_OBJECT" value=glGetFirstNonEmptyValue($_OBJ, $CURRENT.OBJECT, $OBJECT.SITE)}

{$showDescription = false}
{if isset($_showDescription) }
    {$showDescription = $_showDescription}
{/if}

<div class="MPWSComponent MPWSComponenMenu">
    {if isset($_items)}
    <ul class="MPWSList MPWSListMenu">
    {foreach $_items as $keyvar=>$itemvar}
        <li class="MPWSListItem MPWSListItemMenu">
            {$_linkText = $DISPLAY_OBJECT->{"objectProperty_display_menuText`$keyvar|capitalize:0:1`"}}
            <a href="{$itemvar.link}" target="{$itemvar.target}" class="MPWSLink" title="{$_linkText}">
                <span class="MPWSText MPWSTextTitle">{$_linkText}</span>
                {if $showDescription}
                <span class="MPWSText MPWSTextDescription">{$DISPLAY_OBJECT->{"objectProperty_display_menuTextDescription`$keyvar|capitalize:0:1`"}}</span>
                {/if}
            </a>
            {if isset($itemvar.contains) and ($itemvar.contains eq '__PLUGINS__')}
                {include file=$DISPLAY_OBJECT->objectTemplatePath_component_menuPlugins}
            {/if}
        </li>
    {/foreach}
    </ul>
    {/if}
</div>