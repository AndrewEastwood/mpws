{* Component: DataTable  

    !!!PLEASE COPY THIS MESSAGE TO NEW COMPONENT FILE!!!

    Component Required Arguments:
    _confing: datatable configuration


    !!!DO NOT MODIFY STANDART SECTION!!!

    Standart Required Arguments:
    _resource: 'widget', 'component', etc. Property text will be given from the file according to this value
    _ownerType: Each property key must start with this name.
    _ownerName: influences on property keys


    proeprty file: %locale%/%_resource%.proeprty@%_ownerType%+'someText'+%_ownerName%

    Ex.:

    file: en_us/widget.property
           .      .
          /|\    /|\
           |      |
           |      |_ value of $_resource
           |_ current locale


    entry:  
        dataTableView ActiveUsers Caption Name
           .              .         .      .
          /|\            /|\       /|\    /|\
           |              |         |      |
           |              |         |      |_ column key (depends on data)
           |              |         |_ specifyc property key
           |              |_ it's $_ownerName value
           |_ value of $_ownerType


   To Populate Standart Arguments Use This Line:
   _ownerType=$_ownerType _ownerName=$_ownerName _resource=$_resource

    standart property key
    {assign var="__prop__" value="objectProperty_`$_resource`_`$_ownerType``$_ownerName`"}

*}

<div id="MPWSComponenQuickFilteringID" class="MPWSComponent MPWSComponenQuickFiltering">
    {assign var="__prop__" value="objectProperty_custom_`$_ownerName`"}
    {include file=$CURRENT.OBJECT->objectTemplatePath_simple_header _key='quickFiltering'}
    {foreach $_confing.filtering.fields as $qfEntry}
    
    {capture name="row_label"}
        {$CURRENT.OBJECT->objectProperty_component_quickFilteringFieldPrefix}
        {$CURRENT.OBJECT->{"`$__prop__`QuickFilteringField`$qfEntry`"}}
        {$CURRENT.OBJECT->objectProperty_component_quickFilteringFieldSuffix}
    {/capture}
    {capture name="row_value"}
        {$_keyAsc = "`$qfEntry`.asc"}
        {$_keyDesc = "`$qfEntry`.desc"}
        {$_requestKey = libraryRequest::getValue($_confing.filtering.sortKey)}
        {$_filterAction = libraryRequest::getNewUrl('sort', libraryUtils::valueSelect($_requestKey, $_keyAsc, $_keyDesc, $_keyAsc))}
        {$_linkTextKey = libraryUtils::valueSelect($_requestKey, $_keyAsc, "DESC", "ASC")}
        {* sort link *}
        {include file=$CURRENT.OBJECT->objectTemplatePath_simple_link _title=$CURRENT.OBJECT->{"objectProperty_component_quickFilteringAction`$_linkTextKey`"} _href="?`$_filterAction`#MPWSComponenQuickFilteringID"}
    {/capture}
    
    {* data row value *}
    {include file=$CURRENT.OBJECT->objectTemplatePath_component_dataRow _label=$smarty.capture.row_label _value=$smarty.capture.row_value}

    {/foreach}
</div>