<div class="MPWSWrapper MPWSWrapperComingSoon">
    <div class="MPWSMiniBlockIcon"></div>
</div>
<div class="MPWSContent MPWSWidgetContent">
    <!-- div id="top"></div>
    <div class="topRibbon">
        <div class="logo">
            <img src="static/logo.png" alt="logo"/>
            <div class="toolInfoBlock">
                <span class="text">Strategic Integration Team</span>
                <span class="text textSmall">reporting tool v1.1</span>
            </div>
        </div>
        <div class="controlBox">
            <a class="button" onclick="loadData();" href="#_showReports">Show Reports</a>
            <a class="button" onclick="goToByScroll('top');" href="#_scrollToTop">Scroll To Top</a>
            <div class="buttonWrapper">
                <a class="button" onclick="showCustomList(this, '#defaultPageID div');" href="#_chartList" id="chartListID">Select Chart</a>
            </div>
            <!-- div class="buttonWrapper">
                <a class="button" onclick="showReportData(this);" href="#_chartList" id="reportDataListID">Report Data</a>
            </div -- >
        </div>
    </div -->

    <!-- controls -->
    <div class="MPWSMiniBlock MPWSMiniBlockButtons">
        <div class="MPWSWrapper MPWSWrapperWeekly">
            <div class="MPWSMiniBlockIcon"></div>
            <span class="MPWSHeaderTitle"><h1><?=$TPL['POLL']['PTITLE'];?></h1></span>
            <input type="text" class="MPWSCInputText MPWSCInputTextStartDate" id="MPWSCInputTextStartDateWID" name="startdate" placeholder="Click here to set start date" value=""/>
            <input type="text" class="MPWSCInputText MPWSCInputTextEndDate" id="MPWSCInputTextEndDateWID" name="enddate" placeholder="Click here to set end date" value=""/>
            <button type="button" class="MPWSCButton MPWSCButtonRenderWeekly" id="MPWSCButtonRenderWeeklyID">Weekly Reports</button>
        </div>
        <div class="MPWSWrapper MPWSWrapperRelease">
            <span class="MPWSHeaderTitle"><h1><?=$TPL['POLL']['PTITLE'];?></h1></span>
            <input type="text" class="MPWSCInputText MPWSCInputTextStartDate" id="MPWSCInputTextStartDateRID" name="startdate" placeholder="Click here to set start date" value=""/>
            <input type="text" class="MPWSCInputText MPWSCInputTextEndDate" id="MPWSCInputTextEndDateRID" name="enddate" placeholder="Click here to set end date" value=""/>
            <button type="button" class="MPWSCButton MPWSCButtonRenderRelease" id="MPWSCButtonRenderReleaseID">Release Reports</button>
        </div>
    </div>

    <!-- all reports page  -->
    <div class="page pageAllReports pageWeekly hidden" id="defaultPageID">
            <div alt="Team Report" id="reportContainerTeamReportID" class="reportContainer reportContainerTeamReport"></div>
            <div alt="General Time" id="reportContainerTeamGeneralTimeID" class="reportContainer reportContainerTeamGeneralTime"></div>
            <div alt="Time On Each Task" id="reportContainerTypeAndTypesID" class="reportContainer reportContainerTypeAndTypes"></div>
            <span class="reportBlock1">
                <div alt="Handled Tasks (by items count)" id="reportContainerTaskTypesID" class="reportContainer reportContainerTaskTypes"></div>
                <div alt="FA vs. SI with Product matching (by items count)
    " id="reportContainerSIvsFAID" class="reportContainer reportContainerSIvsFA"></div>
                <div alt="Complexity Cause (SE) (by items count)
" id="reportContainerComplexityCauseID" class="reportContainer reportContainerComplexityCause"></div>
            </span>
            <span class="reportBlock2">
                <div alt="Handled Tasks (by hours)" id="reportContainerTaskTypesByHoursID" class="reportContainer reportContainerTaskTypesByHours"></div>
                <div alt="FA vs. SI with Product matching (by hours)" id="reportContainerSIvsFAByHoursID" class="reportContainer reportContainerSIvsFAByHours"></div>
                <div alt="Complexity Cause (SE) (by hours)" id="reportContainerComplexityCauseByHoursID" class="reportContainer reportContainerComplexityCauseByHours"></div>
            </span>
            
            <div alt="Total Tasks" id="reportContainerTaskTotalID" class="reportContainer reportContainerTaskTotal"></div>
    </div>
    <!-- all reports page  -->
    <div class="page pageAllReports pageRelease hidden" id="defaultPageReleaseID">
        <div alt="Tasks Per Release" id="reportContainerTasksPerReleaseID" class="reportContainer reportContainerTasksPerRelease"></div>
        <!-- <div alt="Reported Hours" id="reportContainerReportedHoursID" class="reportContainer reportContainerReportedHours"></div> -->
        <div alt="Release Activity" id="reportContainerReleaseActivityID" class="reportContainer reportContainerReleaseActivity"></div>
        <div alt="Users Activity" id="reportContainerUsersActivityID" class="reportContainer reportContainerUsersActivity"></div>
        <div alt="Users Activity Linear" id="reportContainerUsersActivityLinearID" class="reportContainer reportContainerUsersActivityLinear"></div>
    </div>
    <!--
        TODO:
            + personal pages
            + tabbed view
            - make some charts
    -->
    <div class="page hidden" id="userPageID">
        <div class="pageHader">
            <span class="pageTitle"></span>
            <a href="#userPageClose" class="button MPWSCButton buttonClose">Close</a>
        </div>
        <div class="pageContent">
            <div class="reportWrapper">
                <div class="reportContainer active" id="tabPage1ID">
                    <div alt="Handled Cases" id="reportContainerUserHandledCasesID" class="reportContainerUserHandledCases"></div>
                </div>
                <div class="reportContainer active" id="tabPage2ID">
                    <div alt="General Time" id="reportContainerUserTaskTotalID" class="reportContainerUserTaskTotal"></div>
                    <div alt="General Time On Each Task" id="reportContainerUserTypeAndTypesID" class="reportContainerUserTypeAndTypes"></div>
                </div>
                <div class="reportContainer normal" id="tabPage3ID">
                    <div alt="User Time Overview" id="reportContainerUserOverviewID" class="reportContainerUserOverview"></div>
                    <div alt="User Handled Tasks" id="reportContainerUserHandledTasksID" class="reportContainerUserHandledTasks"></div>
                </div>
                <div class="reportContainer normal" id="tabPage4ID">
                    <div alt="User In Team By Time" id="reportContainerUserInTeamByTimeID" class="reportContainerUserInTeamOfTime"></div>
                    <div alt="User In Team By Tasks" id="reportContainerUserInTeamByTasksID" class="reportContainerUserInTeamOfTasks"></div>
                </div>
                <div alt="User Dashboard" id="dashboardContainerUserStatisticID" class="dashboardContainer dashboardContainerUserStatistic normal">
                    <!--Divs that will hold each control and chart-->
                    <!--id will be changed to be separated for all dashboards-->
                    <div class="dashboardInternalChart" id="Filter"></div>
                    <div class="dashboardInternalChart" id="Chart"></div>
                </div>
            </div>
            <div class="pageNavigator">
                <a href="#p1" class="activePage" reference="tabPage1ID">1</a>
                <a href="#p2" class="" reference="tabPage2ID">2</a>
                <a href="#p3" class="" reference="tabPage3ID">3</a>
                <a href="#p4" class="" reference="tabPage4ID">4</a>
                <!-- <a href="#p2" class="activePage" reference="dashboardContainerUserStatisticID">2</a> -->
                <!-- <a href="#p3" class="" reference="tabPage3ID">3</a> -->
            </div>
        </div>
    </div>

    <script type="text/javascript" language="javascript">
        visualReport.onLoading = function () {
            $('.pageAllReports div').html('');
            $('.page').addClass('hidden');
            $('#userPageID[dashboard]').remove();
            visualReport.dataStorage = {};
            
            $(visualReport.opts.container).removeClass('hidden');
            if (!!visualReport.opts.container) {
                $(visualReport.opts.container + ' div').html('');
                $(visualReport.opts.container + ' .reportContainer').addClass('loading');
                $(visualReport.opts.container).removeClass('hidden');
            }
        }
        visualReport.onLoaded = function () {
            $(visualReport.opts.container + ' .reportContainer').removeClass('loading');
        }
        $(function() {
            $(".MPWSCInputTextStartDate, .MPWSCInputTextEndDate").datepicker({ dateFormat: "yy-mm-dd" });
            
            // trigger requested method
            /* old integration
            $("#MPWSCButtonrenderID").click(function(){
                if (google && visualReport && $("#MPWSCInputTextStartDateID").val() && $("#MPWSCInputTextEndDateID").val())
                    visualReport.load({fullurl:'/libs/tools/reporting/si/data.php?u=libtools1&p=q1w2e3r4t5y6&startdate='+$("#MPWSCInputTextStartDateID").val()+'&enddate='+$("#MPWSCInputTextEndDateID").val(),name:'worklog'});
            });
            */
            $("#MPWSCButtonRenderWeeklyID").click(function(){
                if (google && visualReport && $("#MPWSCInputTextStartDateWID").val() && $("#MPWSCInputTextEndDateWID").val())
                    visualReport.create(
                        {
                            app: 'weekly',
                            container: '#defaultPageID'
                        },
                        {fullurl: '/libs/tools/reporting/si/data-stg.php?u=libtools&p=q1w2e3r4t5y6&startdate=' + $("#MPWSCInputTextStartDateWID").val() + '&enddate='+$("#MPWSCInputTextEndDateWID").val() + '&return=releases-si', name: 'worklog'}
                    );
            });
            $("#MPWSCButtonRenderReleaseID").click(function(){
                if (google && visualReport && $("#MPWSCInputTextStartDateRID").val() && $("#MPWSCInputTextEndDateRID").val())
                    visualReport.create(
                        {
                            app: 'rl',
                            container: '#defaultPageReleaseID'
                        },
                        {fullurl: '/libs/tools/reporting/si/data-stg.php?u=libtools&p=q1w2e3r4t5y6&startdate=' + $("#MPWSCInputTextStartDateRID").val() + '&enddate='+$("#MPWSCInputTextEndDateRID").val() + '&return=releases-si', name: 'releases'}
                    );
            });
            
            pkgReport.updateUI();
        });
        
        //setTimeout(loadData, 2000);
    </script>
</div>